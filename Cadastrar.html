<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="TelaCadastroeLogin.css">
    <title>Shelfy</title>
</head>
<body>

  <ul class="nav justify-content-end">
    <li class="nav-item">
      <a class="nav-link active" href="index.html">Pagina Inicial</a>
    </li>
    <li class="nav-item">
      
      <a class="navbar-brand" href="#">
        <i class="bi bi-person-circle"></i>
      </a>
      
      
    </li>
  </ul>

<br></br>
<br></br>
<br></br>

  <form id = "criar-usuario">
    <div class="form-group">
        <h1>Cadastrar</h1>
        <br></br>
      <label for="exampleInputEmail1">Endereço de E-mail</label>
      <input type="email" class="form-control" id="email" aria-describedby="emailHelp" required>
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Senha</label>
      <input type="password" class="form-control" id="senha" required>
    </div>
    <div class="form-group form-check">
      <br></br>      
      <button type="submit" class="btn btn-primary">Criar conta</button>
      <!--<a href="#" class="badge badge-light" href="#" class="stretched-link">Cadastrar</a></a><!-->
    </div>
    
  </form>
  
  <script>
    document.getElementById('criar-usuario').addEventListener('submit', function(event) {
        event.preventDefault(); // Impede o envio padrão do formulário

        const email = document.getElementById('email').value || null;
        const senha = document.getElementById('senha').value || null;

        const usuario = {
            email,
            senha,
        };

        fetch('http://localhost:3000/usuarios', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(usuario)
        })
        .then(response => response.json())
        .then(data => {
            console.log('Success:', data);
            alert('Usuário cadastrado com sucesso!');
            window.location.href = 'Login.html';
        })
        .catch((error) => {
            console.error('Error:', error);
            alert('Erro ao cadastrar usuário.');
        });
    });
</script>

<br></br>
<br></br>
<br></br>

  
    
</body>
</html>